---
title: PikkuÂ 0.8 â€” Our Biggest Release Yet!
description: Pikku 0.8 introduces RPCs, queue workers, MCP server integration, and bundle-level service shaking â€” setting a new baseline for what a modern typed backend framework should offer.
---

:::info Updated for Pikku v0.11
This post contains code examples from Pikku 0.8. In v0.11, function signatures changed to use the `wire` parameter pattern. See the [current documentation](/docs) for updated examples.
:::

After months of focused work, I'm thrilled to introduce **[PikkuÂ 0.8](https://pikku.dev)** â€” the biggest update yet to the typed backend framework Iâ€™ve been building to simplify full-stack infrastructure.

This release marks a turning point: **Pikku is no longer just for HTTP / Websockets and CronJobs â€” itâ€™s now a complete platform for building scalable, typed, multi-transport backends**. Whether you're targeting HTTP, queues, RPCs, or even AI agents â€” you now write your logic once, then connect it anywhere.

<!-- truncate -->

---

## ğŸ§  Quick Recap: What is Pikku?

At its core, Pikku is a developer-first framework for declaring backend logic as **typed functions**, then wiring those functions up to various transports â€” like HTTP, WebSocket, RPC, queues, or AI agent servers.

If you're familiar with [function-based backends](https://vercel.com/blog/what-are-serverless-functions) or serverless APIs, youâ€™ll feel right at home â€” but Pikku brings full typings, permissions, and tooling to the party.

Hereâ€™s what a typical Pikku function looks like:

```ts
const updateTodo = pikkuFunc<Todo, { updated: boolean }>({
  func: async ({ logger, todoService }, { todoId, ...data }, session) => {
    await todoService.update(todoId, data)
    return { updated: true }
  },
  permissions: {
    canEditTodo: async ({ todoService }, data, session) => {
      const { ownerId } = await todoService.get(data.todoId)
      return ownerId === session.userId
    }
  }
})
````

Then you wire it up to the desired transport:

```ts
wireHTTP({
  method: 'patch',
  func: updateTodo,
})
```

ğŸ“š **[Learn more â†’ Function Basics](https://pikku.dev/docs/core/functions)**
ğŸ“š **[Learn more â†’ HTTP APIs & Routing](https://pikku.dev/docs/core/http)**

---

## âš¡ New inÂ 0.8: Remote Procedure Calls (RPCs)

You can now invoke Pikku functions via RPC â€” from clients, other services, or across your infrastructure.

If you're unfamiliar with RPCs, here's a primer:
ğŸ§  [What is RPC? â†’ Martin Fowler](https://martinfowler.com/articles/distributed-objects-microservices.html)

### Server-side usage:

```ts
await rpc.invoke('send-Email', { type: 'todo-changed', todoId })
```

### Typed client usage:

```ts
const rpc = new PikkuRPC()
const result = await rpc.invoke('update-todo', { type, todoId })
```

RPCs in Pikku:

* Are **typed** with schema validation
* Respect **permissions** and **sessions**
* Work identically whether local or remote
* Are **tree-shakeable** for minimal bundles

ğŸ“š **[Learn more â†’ RPCs](https://pikku.dev/docs/core/rpcs)**

---

## ğŸ§µ Queue Workers

Pikku now supports async job queues with the same function-first philosophy.

> Think of it like typed background workers â€” perfect for sending emails, processing images, or handling long-running tasks.

```ts
const queueWorker = pikkuSessionlessFunc<
  { message: string; fail: boolean },
  { result: string }
>(async ({}, data) => {
  if (data.fail) throw new Error('Job failed intentionally')
  return { result: `echo: ${data.message}` }
})

wireQueueWorker({
  queueName: 'hello-world-queue',
  func: queueWorker,
})
```

Run your preferred queue system (e.g., [BullMQ](https://docs.bullmq.io/) or [pg-boss](https://github.com/timgit/pg-boss)):

```ts
const bullQueueWorkers = new BullQueueWorkers(
  {},
  singletonServices,
  createSessionServices
)
await bullQueueWorkers.registerQueues()
```

Client usage:

```ts
// The QueueService is literally just a typed wrapper
const queueService = new PikkuQueue(new BullQueueService())
await queueService.add('hello-world-queue', { message: 'Hello', fail: false })
```

ğŸ“š **[Learn more â†’ Queues](https://pikku.dev/docs/wiring/queue)**

---

## ğŸ¤– MCP Server: Build Agent-Compatible Backends

> The **MCP Server** allows your Pikku functions to be used by AI agents â€” as tools, resources, or prompt generators. You can build your own local agent server, integrate with LLMs, or support emerging agent standards.

If you're new to agents or tool-calling:
ğŸ§  [What are AI agents? â†’ LangChain Blog](https://blog.langchain.dev/what-are-agents/)
ğŸ§  [Tool-Use in LLMs â†’ OpenAI](https://platform.openai.com/docs/guides/function-calling)

---

### Tools

Declare a function as a callable â€œtoolâ€:

```ts
const sayHello = pikkuMCPToolFunc<{ name?: string }>(
  async ({ logger }, { name = 'World' }) => {
    logger.info(`Hello ${name}`)
    return [{ type: 'text', text: `Hello, ${name}!` }]
  }
)

wireMCPTool({
  name: 'sayHello',
  description: 'Greet someone with a friendly message',
  func: sayHello,
})
```

ğŸ“š **[Learn more â†’ MCP Tools](https://pikku.dev/docs/wiring/mcp/tools)**

---

### Resources

Expose structured data as accessible agent resources:

```ts
const getUserInfo = pikkuMCPResourceFunc<{ userId: string }>(
  async ({ users }, { userId }) => {
    const user = users[userId]
    if (!user) throw new NotFoundError(`User not found`)
    return [{ uri: `getUserInfo/${userId}`, text: JSON.stringify(user) }]
  }
)
```

ğŸ“š **[Learn more â†’ MCP Resources](https://pikku.dev/docs/wiring/mcp/resources)**

---

### Prompts

Dynamically generate prompts for LLMs:

```ts
const dynamicPromptGenerator = pikkuMCPPromptFunc<{
  topic: string
  complexity: 'beginner' | 'intermediate' | 'advanced'
  includeExamples?: boolean
}>(async ({ logger }, { topic, complexity, includeExamples }) => {
  let content = `# Learning ${topic} (${complexity})\n\n`
  content += complexity === 'beginner'
    ? `Start with the basics.\n`
    : complexity === 'intermediate'
      ? `Go deeper.\n`
      : `Covering edge cases.\n`

  if (includeExamples) content += `\n## Examples\n- Example 1\n- Example 2\n`
  return [{ role: 'user', content: { type: 'text', text: content } }]
})
```

ğŸ“š **[Learn more â†’ MCP Prompts](https://pikku.dev/docs/wiring/mcp/prompts)**

---

### Running the MCP Server

```ts
const server = new PikkuMCPServer({
  name: 'pikku-mcp-server',
  version: '1.0.0',
  mcpJsonPath: join(__dirname, '../../functions/.pikku/mcp.gen.json'),
  capabilities: { logging: {}, tools: {}, resources: {}, prompts: {} },
}, singletonServices)

await server.init()
await server.connect(new StdioServerTransport())
server.wrapLogger()
```

ğŸ“š **[Learn more â†’ MCP Server](https://pikku.dev/docs/runtimes/mcp-server)**

---

## ğŸ¯ Service Shaking: Smarter, Smaller Builds

> Think tree-shaking, but for backend services.

You can now exclude unused services from your production bundle using **tag-based CLI filters**:

```bash
pikku --tags 'web,queue'
```

This tells Pikku to only include services used by functions tagged with `web` or `queue`.

Benefits:

* Smaller bundles
* Lazy-loaded service dependencies
* More precise deployments

```ts
if (singletonServices.jwt) {
  const { JoseJWTService } = await import('@pikku/jose')
  jwt = new JoseJWTService(...)
}
```

ğŸ“š **[Learn more â†’ Service Shaking](https://pikku.dev/docs/deployment/service-shaking)**

---

## ğŸš§ Coming Next

We consider Pikku 0.8 **feature complete**, in the sense we won't be adding more transports or core library changes.

In the near future, weâ€™ll focus on:

* ğŸ› Fixing minor bugs
* ğŸ§‘ğŸ½â€ğŸ’» Adding APIs to exising wrappers like Queues or oAuth/Notifications to MCP
* ğŸ§¾ Improving docs and examples
* ğŸ’¬ Expanding tutorials and templates
* âœ¨ Polish across CLI and DX

If you're building something and get stuck â€” please [open an issue](https://github.com/vlandor/pikku/issues) or [ask us on GitHub Discussions](https://github.com/vlandor/pikku/discussions).

---

ğŸ” Peek: AI-Assisted Lookup
One of the things I love about Pikku is that everything is statically documented â€” from services to queues to functions.

Iâ€™m exploring the idea of a Pikku-powered MCP agent â€” a local AI assistant that gives instant answers like:

â€œWhat queues are available in this service?â€
â€œWhich function handles updating a todo?â€

No need to crawl the codebase or guess â€” just ask. If this sounds interesting, stay tuned.

---

## ğŸ™Œ Final Thoughts

PikkuÂ 0.8 isnâ€™t just a version bump â€” itâ€™s a foundational leap forward.

By treating **functions as your backend contract**, you gain:

* âœ… Full TypeScript safety
* ğŸ” Auth & permission guards
* ğŸ” Transport-agnostic logic
* ğŸ§µ Queue & background job support
* ğŸ§  Agent / AI integration
* ğŸ§¼ Tree-shaken builds for tighter deployments

Whether you're building real-time apps, internal tools, microservices, or intelligent agents â€” **PikkuÂ 0.8** gives you a fast, typed, and scalable foundation.

---

## ğŸš€ Try It Now

* ğŸ§ª **[Get Started](https://pikku.dev/docs/quickstart)**
* ğŸ’» **[View on GitHub](https://github.com/vlandor/pikku)**
* ğŸ’¬ **[Join the conversation](https://github.com/vlandor/pikku/discussions)**
* ğŸ›  **[Contribute or file an issue](https://github.com/vlandor/pikku/issues)**

Thanks for reading â€” I can't wait to see what you build.

â€”â€¯Yasser
