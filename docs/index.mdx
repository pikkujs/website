---
sidebar_position: 0
title: Pikku
description: Introducting Pikku
---

Pikku - meaning tiny üîé in Finnish - is a minimalistic batteries included framework built around simple functions. It works with any event driven design (currently http, websockets and scheduled tasks) and can be run on any Javascript runtime, currently Cloudflare Workers, Fastify, Bun, AWS Lambda, Express, uWS, WS and others.

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
  <TabItem value="HTTP" label="HTTP" default>
```typescript
import { pikkuFunc, addHTTPRoute } from '#pikku/pikku-types.gen.js'

const helloWorld = pikkuFunc<
  { language: 'en' | 'es' }, 
  string
>(async (
  { logger }, data, session
) => {
  const greeting = data.language === 'en' ? 'Hey' : 'Ola'
  logger.info(`Greeting user: ${session?.username}`)
  return `${greeting} ${session?.username || 'guest'}!`
})

// Register it as a HTTP Route
addHTTPRoute({ 
  method: 'get', 
  route: '/', 
  func: helloWorld 
})
```
  </TabItem>
  <TabItem value="scheduledTask" label="Scheduled Task">
    <div className="sm:hidden">
```typescript
import { pikkuVoidFunc, addScheduledTask } from '#pikku/pikku-types.gen.js'

const cronJob = pikkuVoidFunc(async (
  { logger, todos }
) => {
  logger.info('Cleaning up completed todos')
  await todos.deleteCompleted()
})

// Register it as a Scheduled Task
addScheduledTask({
  name: 'cleanupTodos',
  schedule: '0 2 * * *', // Daily at 2 AM
  func: cronJob,
})
```
</div>
<div className="hidden sm:block">
```typescript
import { pikkuVoidFunc, addScheduledTask } from '#pikku/pikku-types.gen.js'

const cronJob = pikkuVoidFunc(async ({ logger, todos }) => {
  logger.info('Cleaning up completed todos')
  await todos.deleteCompleted()
})

// Register it as a Scheduled Task
addScheduledTask({
  name: 'cleanupTodos',
  schedule: '0 2 * * *', // Daily at 2 AM
  func: cronJob,
})
```
</div>
  </TabItem>
  <TabItem value="channel" label="Channel">
<div className="sm:hidden">
```typescript
import { pikkuChannelFunc, addChannel } from '#pikku/pikku-types.gen.js'

const onMessage = pikkuChannelFunc<'hello', 'hey'>(async (
  { logger }, channel
) => {
  logger.info(
    `Hello from ${channel.id}`
  )
  channel.send('hey')
})

// Register it as a channel 
addChannel({ 
  name: 'events',
  route: '/', 
  onMessage 
})
```
</div>
<div className="hidden sm:block">
```typescript
import { pikkuChannelFunc, addChannel } from '#pikku/pikku-types.gen.js'

export const onMessage = pikkuChannelFunc<'hello', 'hey'>(async (
  { logger }, channel
) => {
  logger.info(`Hello from ${channel.id}`)
  channel.send('hey')
})

// Register it as a channel 
addChannel({ 
  name: 'events', 
  route: '/', 
  onMessage 
})
```
</div>
  </TabItem>
</Tabs>

---

## Realistic Example

Here's a more complete example showing authentication and service usage:

```typescript
import { pikkuFunc, addHTTPRoute } from '#pikku/pikku-types.gen.js'

const createTodo = pikkuFunc<
  { title: string; description?: string },
  { todoId: string; success: boolean }
>(async (
  { todos, logger }, data, session
) => {
  // Create todo using todo service
  const todo = await todos.create({
    title: data.title,
    description: data.description,
    createdBy: session.userId
  })
  
  logger.info(`Todo created: ${todo.todoId}`)
  
  return { todoId: todo.todoId, success: true }
})

// Register it as a HTTP Route
addHTTPRoute({
  method: 'post',
  route: '/todo',
  func: createTodo,
  auth: true
})
```

---

## Quick Start

```bash npm2yarn
npm create pikku
```

---

## Features

* **Tiny** üîé - The Pikku footprint is minimal. It currently relies on two small dependencies [cookie](https://www.npmjs.com/package/cookie) and [path-to-regex](https://www.npmjs.com/package/path-to-regex).
* **Deploy Anywhere** üåç - Run your functions anywhere, as long as it's event based. Currently supporting HTTP, WebSockets and Scheduled Tasks with more coming soon.
* **Batteries Included** üîã - Services, session management, auth, docs, it's all here..
* **Zero Boilerplate** ü™∂ - Only write business logic in Typescript, Pikku automatically optimizes, validates and generates everything needed in a powerful framework.

---

## Quick Intro

![Getting Started](/img/quick-start.gif)

---

## Introduction Talk

import LiteYouTubeEmbed from 'react-lite-youtube-embed';

<LiteYouTubeEmbed 
    id="94ioOCzoEb4"
    title="An introduction talk to Pikku (previously vramework) at the nodejs Berlin meetup"
/>
